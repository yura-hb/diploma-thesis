task:
  kind: 'task'

  name: 'test'
  output_dir: 'tmp'
  log_stdout: True
  log_run: True

  machine_agent:
    kind: 'mod'
    parameters:
      base_path: 'configuration/mods/machine/dqn.yml'
      template: 'marl_direct'
      mods:
        - 'agent/dqn/ddqn.yml'
        - 'agent/dqn/dueling.yml'
        - 'util/agent/multi_agent.yml'
        - 'util/rules/all_rules.yml'

  work_center_agent:
    kind: 'static'
    parameters:
      model:
        kind: 'static'
        parameters:
          rule: 'et'
      encoder:
        kind: 'plain'

  tape:
    machine_reward:
      kind: 'surrogate_tardiness'
      parameters:
        span: 256

    work_center_reward:
      kind: 'no'

    next_state_record_mode: 'on_next_action'

  graph:
    transition_model:
      kind: 'base'
      parameters:
        forward:
          kind: 'adding_arc'

        schedule:
          kind: 'compressed'

    memory: 10000
    is_machine_set_in_work_center_connected: True
    is_work_center_set_in_shop_floor_connected: True

  simulator:
    kind: 'episodic'
    parameters:
      memory: 5

  run:
    kind: 'mod'
    parameters:
      base_path: 'configuration/mods/run/run.yml'
      mods:
        - 'timeline/no_warmup.yml'
      nested:
        parameters:
          simulations:
            - kind: 'mod'
              parameters:
                base_path: 'configuration/mods/simulation/simulation.yml'
                mods:
                  - 'duration/1024.yml'
                  - 'size/fjsp/5x5.yml'
            - kind: 'mod'
              parameters:
                base_path: 'configuration/mods/simulation/simulation.yml'
                mods:
                  - 'duration/1024.yml'
                  - 'size/fjsp/5x5.yml'