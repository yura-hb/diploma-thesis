task:
  kind: 'tournament'

  n_workers: 8
  n_threads: 8
  name: 'rules'
  output_dir: 'results/jsp/experiments/tournaments/jsp/Static Rules'
  store_run_statistics: True
  log_run: False
  update: True
  debug: False

  candidates:
#    - kind: 'persisted_agents'
#      parameters:
#        prefix: 'all'
#        path: 'results/jsp/experiments/1_4/all'
#
#    - kind: 'persisted_agents'
#      parameters:
#        prefix: 'default'
#        path: 'results/jsp/experiments/1_4/default'
#
#    - kind: 'persisted_agents'
#      parameters:
#        prefix: 'preferred'
#        path: 'results/jsp/experiments/1_4/preferred'

    - kind: 'persisted_agents'
      parameters:
          prefix: ''
          path: 'results/jsp/experiments/1. MARL-DQN'
          depth: 5
#
#    - kind: 'persisted_agents'
#      parameters:
#        prefix: 'flexible_with_graph'
#        path: 'results/jsp/experiments/2_9/flexible_with_graph'
#
#    - kind: 'persisted_agents'
#      parameters:
#        prefix: 'flexible_without_graph'
#        path: 'results/jsp/experiments/2_9/flexible_without_graph'
#
#    - kind: 'persisted_agents'
#      parameters:
#        prefix: 'transformer_with_graph'
#        path: 'results/jsp/experiments/2_9/transformer_with_graph'
#
#    - kind: 'persisted_agents'
#      parameters:
#        prefix: 'transformer_without_graph'
#        path: 'results/jsp/experiments/2_9/transformer_without_graph'

#    - kind: 'persisted_agents'
#      parameters:
#        prefix: 'adding_arc_machine_compressed'
#        path: 'results/jsp/experiments/2_8/adding_arc_machine_compressed'
#
#    - kind: 'persisted_agents'
#      parameters:
#        prefix: 'adding_arc_complete'
#        path: 'results/jsp/experiments/2_8/adding_arc_complete'

#    - kind: 'persisted_agents'
#      parameters:
#        prefix: '3-step'
#        path: 'results/jsp/experiments/1_1/4'
#
#    - kind: 'persisted_agents'
#      parameters:
#        prefix: 'prioritized'
#        path: 'results/jsp/experiments/1_1/5'
#
#    - kind: 'persisted_agents'
#      parameters:
#        prefix: 'noisy'
#        path: 'results/jsp/experiments/1_1/6'
#
#    - kind: 'persisted_agents'
#      parameters:
#        prefix: 'all'
#        path: 'results/jsp/experiments/1_1/7'
##
#    - kind: 'persisted_agents'
#      parameters:
#        prefix: 'ddqn'
#        path: 'results/jsp/experiments/1_2/2'
#
#    - kind: 'persisted_agents'
#      parameters:
#        prefix: 'all'
#        path: 'results/jsp/experiments/1_2/3'
#
#    - kind: 'persisted_agents'
#      parameters:
#        prefix: 'marl_all'
#        path: 'results/jsp/experiments/1_2/4'
#
#    - kind: 'static'
#      parameters:
#            scheduling: 'all'
#            routing:
#              - 'ct'


#      - kind: 'persisted_agents'
#        parameters:
#          prefix: 'adam'
#          path: 'results/jsp/experiments/1_6/adam'
#
#      - kind: 'persisted_agents'
#        parameters:
#          prefix: 'adam_w'
#          path: 'results/jsp/experiments/1_6/adam_w'
#
#      - kind: 'persisted_agents'
#        parameters:
#          prefix: 'adamax'
#          path: 'results/jsp/experiments/1_6/adamax'
#
#      - kind: 'persisted_agents'
#        parameters:
#          prefix: 'rms_prop'
#          path: 'results/jsp/experiments/1_6/rms_prop'
#
#      - kind: 'persisted_agents'
#        parameters:
#          prefix: 'sgd'
#          path: 'results/jsp/experiments/1_6/sgd'

  criteria:
    - kind: 'makespan'
      parameters:
        weight: 1
        direction: 'minimize'
        scale: 'linear'
    - kind: 'tardiness'
      parameters:
        weight: 1
        direction: 'minimize'
        scale: 'linear'

  reward:
    top_k: -1
    points: 1

  simulator:
    n_workers: 8
    simulations:
      #      - name: 'tailard'
      #        kind: 'jsp_dataset'
      #        parameters:
      #          path: 'datasets/tailard'
      #
      #      - name: 'demirkol'
      #        kind: 'jsp_dataset'
      #        parameters:
      #          path: 'datasets/demirkol'
      #
      #      - name: ''
      #        kind: 'multi_value'
      #        parameters:
      #          base:
      #            kind: 'simulation'
      #            parameters:
      #              configuration:
      #                timespan: 8192
      #                machines_per_work_center: 1
      #                work_center_count: 10
      #
      #              dispatch:
      #                initial_job_assignment:
      #                  kind: 'n_per_machine'
      #                  parameters:
      #                    n: 1
      #
      #                job_sampler:
      #                  kind: 'dynamic'
      #                  parameters:
      #                    processing_times: # Sampler
      #                      kind: 'uniform'
      #                      parameters:
      #                        uniform: [ 1, 50 ]
      #                        noise: [ 0, 10 ]
      #                    permutation:
      #                      uneveness: 3
      #                    due_time: # Sampler
      #                      kind: 'uniform'
      #                      parameters:
      #                        uniform: [ 1000, 1001 ]
      #                    job_arrival_time_on_machine:
      #                      kind: 'sampler'
      #                      parameters:
      #                        sampler:
      #                          kind: 'constant'
      #                          parameters:
      #                            value: 100000
      #
      #                breakdown:
      #                  kind: 'dynamic'
      #                  parameters:
      #                    breakdown_arrival:
      #                      kind: 'exponential'
      #                      parameters:
      #                        mean: 5000
      #                    repair_duration:
      #                      kind: 'uniform'
      #                      parameters:
      #                        uniform: [ 1, 50 ]
      #
      #                seed: 32
      #
      #          values:
      #
      #            parameters:
      #              configuration:
      #                work_center_count:
      #                  - 10
      #
      #              dispatch:
      #                initial_job_assignment:
      #                  parameters:
      #                    n: [10, 5]
      #                seed:
      #                  [
      #                    0, 1, 2, 3, 4, 5, 6, 7, 8, 9,
      #                    10, 11, 12, 13, 14, 15, 16, 17, 18, 19,
      #                    20, 21, 22, 23, 24, 25, 26, 27, 28, 29,
      #                    30, 31, 32, 33, 34, 35, 36, 37, 38, 39,
      #                    40, 41, 42, 43, 44, 45, 46, 47, 48, 49,
      #                    50, 51, 52, 53, 54, 55, 56, 57, 58, 59,
      #                    60, 61, 62, 63, 64, 65, 66, 67, 68, 69,
      #                    70, 71, 72, 73, 74, 75, 76, 77, 78, 79,
      #                    80, 81, 82, 83, 84, 85, 86, 87, 88, 89,
      #                    90, 91, 92, 93, 94, 95, 96, 97, 98, 99
      #                  ]


      - name: ''
        kind: 'multi_value'
        parameters:
          base:
            kind: 'simulation'
            parameters:
              configuration:
                timespan: 8000
                machines_per_work_center: 1
                work_center_count: 10

              dispatch:
                initial_job_assignment:
                  kind: 'n_per_machine'
                  parameters:
                    n: 1

                job_sampler:
                  kind: 'dynamic'
                  parameters:
                    processing_times:
                      kind: 'uniform'
                      parameters:
                        uniform: [ 1, 50 ]
                        noise: [ 0, 10 ]
                    permutation:
                      uneveness: 3
                    due_time:
                      kind: 'uniform'
                      parameters:
                        uniform: [ 0.5, 2 ]
                    job_arrival_time_on_machine:
                      kind: 'expected_utilization'
                      parameters:
                        value: 0.0

                breakdown:
                  kind: 'dynamic'
                  parameters:
                    breakdown_arrival:
                      kind: 'exponential'
                      parameters:
                        mean: 5000
                    repair_duration:
                      kind: 'uniform'
                      parameters:
                        uniform: [ 100, 300 ]

                seed: 32

          values:

            parameters:
              configuration:
                work_center_count:
                  - 10

              dispatch:
                seed:
                  [
                    0, 1, 2, 3, 4, 5, 6, 7, 8, 9,
                    10, 11, 12, 13, 14, 15, 16, 17, 18, 19,
                    20, 21, 22, 23, 24, 25, 26, 27, 28, 29,
                    30, 31, 32, 33, 34, 35, 36, 37, 38, 39,
                    40, 41, 42, 43, 44, 45, 46, 47, 48, 49,
                    50, 51, 52, 53, 54, 55, 56, 57, 58, 59,
                    60, 61, 62, 63, 64, 65, 66, 67, 68, 69,
                    70, 71, 72, 73, 74, 75, 76, 77, 78, 79,
                    80, 81, 82, 83, 84, 85, 86, 87, 88, 89,
                    90, 91, 92, 93, 94, 95, 96, 97, 98, 99
                  ]

                job_sampler:
                  parameters:
                    __concat__:
                      - job_arrival_time_on_machine:
                          parameters:
                            value:
                              - 0.7
                        n_jobs: 100
                      - job_arrival_time_on_machine:
                          parameters:
                            value:
                              - 0.8
                        n_jobs: 100
                      - job_arrival_time_on_machine:
                          parameters:
                            value:
                              - 0.9
                        n_jobs: 100
