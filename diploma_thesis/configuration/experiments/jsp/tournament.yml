task:
  kind: 'tournament'

  n_workers: 1
  name: 'static_rules'
  output_dir: 'results/jsp/experiments/tournaments/static_rules'
  store_run_statistics: True
  debug: False

  candidates:
#    - kind: 'persisted_agents'
#      parameters:
#        prefix: 'dqn'
#        path: 'results/jsp/experiments/dqn_path/runs/marl_indirect_test/1'
#    - kind: 'persisted_agents'
#      parameters:
#        prefix: 'ddqn'
#        path: 'results/jsp/experiments/dqn_path/runs/marl_indirect_test/2'
#    - kind: 'persisted_agents'
#      parameters:
#        prefix: 'dueling'
#        path: 'results/jsp/experiments/dqn_path/runs/marl_indirect_test/3'
#    - kind: 'persisted_agents'
#      parameters:
#        prefix: '3-step'
#        path: 'results/jsp/experiments/dqn_path/runs/marl_indirect_test/4'
#    - kind: 'persisted_agents'
#      parameters:
#        prefix: 'prioritized'
#        path: 'results/jsp/experiments/dqn_path/runs/marl_indirect_test/5'
#    - kind: 'persisted_agents'
#      parameters:
#        prefix: 'noisy'
#        path: 'results/jsp/experiments/dqn_path/runs/marl_indirect_test/6'
#    - kind: 'persisted_agents'
#      parameters:
#        prefix: 'all'
#        path: 'results/jsp/experiments/dqn_path/runs/marl_indirect_test/7'
    - kind: 'static'
      parameters:
        scheduling: 'all'
        routing:
          - 'ct'

  criteria:
    - kind: 'makespan'
      parameters:
        weight: 1
        direction: 'minimize'
        scale: 'linear'
    - kind: 'tardiness'
      parameters:
        weight: 1
        direction: 'minimize'
        scale: 'linear'

  reward:
    top_k: -1
    points: 1

  simulator:
    n_workers: 4
    simulations:
      - name: 'tailard'
        kind: 'jsp_dataset'
        parameters:
          path: 'datasets/tailard'

      - name: 'demirkol'
        kind: 'jsp_dataset'
        parameters:
          path: 'datasets/demirkol'

      - name: ''
        kind: 'multi_value'
        parameters:
          base:
            kind: 'simulation'
            parameters:
              configuration:
                timespan: 2000
                machines_per_work_center: 1
                work_center_count: 10

              dispatch:
                initial_job_assignment:
                  kind: 'n_per_machine'
                  parameters:
                    n: 1

                job_sampler:
                  kind: 'dynamic'
                  parameters:
                    processing_times: # Sampler
                      kind: 'uniform'
                      parameters:
                        uniform: [ 1, 50 ]
                        noise: [ 0, 10 ]
                    permutation:
                      uneveness: 0
                    due_time: # Sampler
                      kind: 'uniform'
                      parameters:
                        uniform: [ 0.5, 2 ]
                    job_arrival_time_on_machine:
                      kind: 'expected_utilization'
                      parameters:
                        value: 0.95

                breakdown:
                  kind: 'dynamic'
                  parameters:
                    breakdown_arrival:
                      kind: 'exponential'
                      parameters:
                        mean: 5000
                    repair_duration:
                      kind: 'uniform'
                      parameters:
                        uniform: [ 10, 400 ]

                seed: 32

          values:

            parameters:
              configuration:
                work_center_count:
                  - 10
                  - 20

              dispatch:
                seed:
                  - 0
                  - 1
                  - 2
                  - 3
                  - 4
                  - 5
                  - 6
                  - 7
                  - 8
                  - 9
                  - 10
                  - 11
                  - 12
                  - 13
                  - 14
                  - 15
                  - 16
                  - 17
                  - 18
                  - 19

                job_sampler:
                  parameters:
                    job_arrival_time_on_machine:
                      parameters:
                        value:
                          - 0.7
                          - 0.8
                          - 0.9